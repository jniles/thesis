% An Applied Mathematics/Biology Thesis
% By Jonathan Niles

\documentclass[phd,tocprelim]{thesis}

% escape for previously defined ifpdf
\let\ifpdf\relax

% layout packages
\usepackage{ifpdf}
\usepackage[top=1in, bottom=1in, left=1.5in, right=1in]{geometry}

% font packages
\usepackage{lmodern}
\usepackage{ebgaramond}
\usepackage{amsmath,amssymb,amsthm,mathtools}
\usepackage[T1]{fontenc}

% figure and graphics packages
\usepackage{float}
\usepackage{tabularx}
\usepackage{booktabs,caption,fixltx2e}
\usepackage[flushleft]{threeparttable}
\usepackage{graphicx}
\usepackage{multicol}
\usepackage{caption}

% bibliography, appendix, and reference packages
\usepackage{algorithm2e}
\usepackage{bibentry}
\usepackage{natbib}
\usepackage{appendix}
\usepackage[hidelinks]{hyperref}
\usepackage[toc,nogroupskip,nonumberlist]{glossaries}

%
% Definitions
%
\newtheorem{defn}{Definition}
\newtheorem{thm}{Theorem}
\newtheorem{prop}{Proposition}
\newcommand{\matr}[1]{\mathbf{#1}}
\newcommand*\mean[1]{\overline{#1}}
\newcommand*\conj[1]{\overline{#1}}
\newcommand\addtag{\refstepcounter{equation}\tag{\theequation}}

% make the absolute value command
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the
% starred version does not.
\makeatletter
\let\oldabs\abs%
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
\let\oldnorm\norm%
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother

% Set tolerance for box model
\tolerance=9999

% New Commands, refreshers
\renewcommand{\topfraction}{0.85}
\renewcommand{\textfraction}{0.1}
\renewcommand{\floatpagefraction}{0.75}

% Make cornell style
\normalspacing\setcounter{page}{1}\pagenumbering{arabic}
\pagestyle{cornell} \addtolength{\parskip}{0.5\baselineskip}

% LongTabu Fix
\AtBeginEnvironment{longtabu}{\tiny}{}{}   %% change all longtabu content to foot note size

% Make a glossary using the glossaries package
\loadglsentries{./tex/glossary.tex}
\makeglossaries%

% tells bibentry to (re)use the bibliographic data from the standard BibTeX setup by
\nobibliography*

%
% Actual Document Starts here!
%
\begin{document}

% set page numbering to roman for front matter
\renewcommand{\thepage}{\roman{page}}

% import titlepage
\input{./tex/title}
\maketitle

\input{./tex/acknowledgements}

\contentspage%
\tablelistpage%
\figurelistpage%

\input{./tex/abstract}

% set page numbering to arabic for thesis body
\renewcommand{\thepage}{\arabic{page}}

\input{./tex/introduction}
\input{./tex/math}
\input{./tex/bio}
\input{./tex/methods}
\input{./tex/results}
\input{./tex/discussion}

%
% APPENDIX
%
\appendix%
\appendixpage%
\addappheadtotoc%

\input{./tex/appendix/appendix}

\chapter*{Supplementary Information}

\input{./tex/supplementary/datasets}
\input{./tex/supplementary/heatmaps}
\input{./tex/supplementary/components}
\input{./tex/supplementary/expression}
\input{./tex/supplementary/directionality}
\input{./tex/supplementary/domains}
\input{./tex/supplementary/biomarkers}
\input{./tex/supplementary/fragile}

%
% Glossary
%
\printglossaries%

%
% BIBLIOGRAPHY
%
\bibliography{bibliography}{}
\bibliographystyle{cell}

\end{document}
